% This is a XeLaTeX document. To process and view it use the following command:
% xelatex Torch_for_Matlab_users.tex && open Torch_for_Matlab_users.pdf

% Also, I avoided using equations to make the document compatible to automatic conversion to markdown. Here is the command for that:
% pandoc -r latex -w markdown_github -o Torch_for_Matlab_users.md Torch_for_Matlab_users.tex
% To view the Github markdown locally, you can use grip package:
% grip Torch_for_Matlab_users.md

\documentclass[letter]{article}
\usepackage[margin=.7in]{geometry}

\usepackage{hyperref}

\usepackage{fontspec}
\setmainfont{Palatino Linotype}
\newfontfamily{\maintext}{Palatino Linotype}
\newfontfamily{\stressed}{Helvetica}
\newfontfamily{\exotic}{Code2000}
\newfontfamily{\math}{Asana Math}
\pagenumbering{gobble}

\newcommand{\frstClmnWidth}{.43in}
\newcommand{\scndClmnWidth}{6.37in}

\title{Torch for Matlab\textsuperscript{\textregistered}{\let\thefootnote\relax\footnote{Matlab\textsuperscript{\textregistered} is a registered trademark of The MathWorks, Inc.}} Users}
\author{Ata Mahjoubfar\\
\href{mailto:ata.m@ucla.edu}{ata.m@ucla.edu}}

\begin{document}
\maketitle
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{General Commands}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Get help for a specific function:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!help sqrt! \\ \hline
\textbf{Torch} & \verb!help(torch.sqrt)! \\ \hline
\end{tabular}
\\

\noindent Documentation of \verb!sqrt! function is shown.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Scalar operations:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!testVar1 = (4*5-1+10.1)/3^2;! \\ \hline
\textbf{Torch} & \verb!testVar1 = (4*5-1+10.1)/3^2;! \\ \hline
\end{tabular}
\\

\noindent The resultant value (3.2333) is assigned to variable \verb!testVar1!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Scalar assignment:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!testVar2 = testVar1;! or \verb!testVar2 = testVar1! \\ \hline
\textbf{Torch} & \verb!testVar2 = testVar1;! or \verb!testVar2 = testVar1! \\ \hline
\end{tabular}
\\

\noindent The value of variable \verb!testVar1! (3.2333) is assigned to variable \verb!testVar2!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Display strings and numbers:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!disp(['The distance is ', num2str(100), ' meters.'])! \\ \hline
\textbf{Torch} & \verb!print('The distance is ' .. 100 .. ' meters.')! \\ \hline
\end{tabular}
\\

\noindent This prints \verb!The distance is 100 meters.! in the output.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Determine type:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!class('Hi')! \\ \hline
\textbf{Torch} & \verb!torch.type('Hi')! \\ \hline
\end{tabular}
\\

\noindent For this example, Matlab returns \verb!char!, and Torch returns \verb!string!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Matrices and Tensors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a two-dimensional tensor or matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m = [9, 6, 3, 4; 7, 2, 8, 1]! \\ \hline
\textbf{Torch} & \verb!m = torch.Tensor({{9, 6, 3, 4}, {7, 2, 8, 1}})! \\ \hline
\end{tabular}
\\

\noindent A 2Ã—4 two-dimensional tensor (matrix) with specified elements is formed and assigned to \verb!m!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Number of dimensions of a tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!ndims(m)! \\ \hline
\textbf{Torch} & \verb!m:dim()! \\ \hline
\end{tabular}
\\

\noindent For example here, for the previously defined two-dimensional tensor (matrix) \verb!m!, the returned number is 2.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Size of a tensor in all dimensions:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!size(m)! \\ \hline
\textbf{Torch} & \verb!m:size()! or \verb!#m! \\ \hline
\end{tabular}
\\

\noindent For example here, for the previously defined two-dimensional tensor (matrix) \verb!m!, the returned numbers are 2 and 4, which are the numbers of rows and columns, respectively.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Size of a tensor in a specific dimension:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!size(m,2)! \\ \hline
\textbf{Torch} & \verb!m:size(2)! or \verb!(#m)[2]! \\ \hline
\end{tabular}
\\

\noindent For example here, for the previously defined two-dimensional tensor (matrix) \verb!m!, the returned number is 4, which is the size of the second dimension (number of columns).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Number of elements in a tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!numel(m)! \\ \hline
\textbf{Torch} & \verb!m:numel()! \\ \hline
\end{tabular}
\\

\noindent For example here, for the previously defined two-dimensional tensor (matrix) \verb!m!, the returned number is 8.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a row vector:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v = [9, 7, 6, 8]! or \verb!v = [9 7 6 8]! \\ \hline
\textbf{Torch} & \verb!v = torch.Tensor({{9, 7, 6, 8}})! \\ \hline
\end{tabular}
\\

\noindent Unlike Matlab, this is not used as a vector in Torch because it is a two-dimensional Tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a column vector:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v = [9; 7; 6; 8]! \\ \hline
\textbf{Torch} & \verb!v = torch.Tensor({{9}, {7}, {6}, {8}})! \\ \hline
\end{tabular}
\\

\noindent Again unlike Matlab, this is not used as a vector in Torch because it is still a two-dimensional Tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!t = torch.Tensor({9, 7, 6, 8})! \\ \hline
\end{tabular}
\\

\noindent Matlab does not have \textit{one-dimensional tensors}; this can be verified by running \verb!ndims([9, 7, 6, 8])!. On the other hand, for many operations that Matlab uses row or column vectors, Torch uses one-dimensional tensors.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element in a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(2)! \\ \hline
\textbf{Torch} & \verb!t[2]! \\ \hline
\end{tabular}
\\

\noindent Second element of the vector is accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element from the end of a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(end-1)! \\ \hline
\textbf{Torch} & \verb!t[-2]! \\ \hline
\end{tabular}
\\

\noindent Second element from the end of the vector is accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a range of elements in a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(2:4)! \\ \hline
\textbf{Torch} & \verb!t[{{2,4}}]! \\ \hline
\end{tabular}
\\

\noindent Second to fourth elements of the vector are accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element in a matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, 3)! \\ \hline
\textbf{Torch} & \verb!m[{2, 3}]! or \verb!m[2][3]! \\ \hline
\end{tabular}
\\

\noindent Second row, third column element is accessed. Accessing in the form of \verb!m[2][3]! is not recommended, because it causes an \verb!out of memory! error for large tensors.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a row in a matrix as a two-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, :)! \\ \hline
\textbf{Torch} & \verb!m[{{2}, {}}]! \\ \hline
\end{tabular}
\\

\noindent The returned row is a two-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a row in a matrix as a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!m[{2, {}}]! or \verb!m[2]! \\ \hline
\end{tabular}
\\

\noindent The returned row is a one-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a column in a matrix as a two-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(:, 2)! \\ \hline
\textbf{Torch} & \verb!m[{{}, {2}}]! \\ \hline
\end{tabular}
\\

\noindent The returned column is a two-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a column in a matrix as a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!m[{{}, 2}]! \\ \hline
\end{tabular}
\\

\noindent The returned column is a one-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a range of elements in a matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, 2:4)! \\ \hline
\textbf{Torch} & \verb!m[{{2}, {2,4}}] or m[{2, {2,4}}]! \\ \hline
\end{tabular}
\\

\noindent The second to fourth columns of the second row are returned. In Torch, there is a slight difference between using \verb!index! (e.g. \verb!2!) or \verb!{index}! (e.g. \verb!{2}!) for pointing to a singleton dimension. For \verb!{index}!, the dimension of the returned tensor is same as the original tensor (e.g. tensor~\verb!m!). For \verb!index!, the singleton dimension is removed, and the dimension of the returned tensor is one less than the original tensor (e.g. tensor~\verb!m!). Also, \verb!{}! refers to all elements in that dimension. Finally, \verb!-index! (e.g. \verb!-4!) means \verb!index!-th (e.g. fourth) element from the end.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Forming Basic Tensors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a vector over a range of values with unit step:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!3:8! \\ \hline
\textbf{Torch} & \verb!torch.range(3, 8)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with elements spaced \verb!1! strating at \verb!3!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a vector over a range of values with an arbitrary step:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!3:-1.9:-4.2! \\ \hline
\textbf{Torch} & \verb!torch.range(3, -4.2, -1.9)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with elements spaced \verb!-1.9! strating at \verb!3!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a vector with linearly-located elements:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!linspace(3, 8, 50)! \\ \hline
\textbf{Torch} & \verb!torch.linspace(3, 8, 50)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!50! equally-spaced elements strating at \verb!3! and ending at \verb!8!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a vector with logarithmically-located elements:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!logspace(3, 8, 50)! \\ \hline
\textbf{Torch} & \verb!torch.logspace(3, 8, 50)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!50! exponentially-spaced elements strating at 10\textsuperscript{3} and ending at 10\textsuperscript{8}.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create an all zeros vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!zeros(1,4)! or \verb!zeros(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.zeros(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! zero elements.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create an all zeros matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!zeros(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.zeros(5,3)! \\ \hline
\end{tabular}
\\

\noindent 5Ã—3 matrix of zeros is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create an all ones vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!ones(1,4)! or \verb!ones(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.ones(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! one elements.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create an all ones matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!ones(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.ones(5,3)! \\ \hline
\end{tabular}
\\

\noindent 5Ã—3 matrix of ones is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create an identity matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!eye(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.eye(5,3)! \\ \hline
\end{tabular}
\\

\noindent 5Ã—3 identity matrix is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a square identity matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!eye(4)! \\ \hline
\textbf{Torch} & \verb!torch.eye(4)! \\ \hline
\end{tabular}
\\

\noindent 4Ã—4 identity matrix is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a uniformly-distributed random vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!rand(1,4)! or \verb!rand(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.rand(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! random elements from uniform probability distribution.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a uniformly-distributed random matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!rand(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.rand(5,3)! \\ \hline
\end{tabular}
\\

\noindent 5Ã—3 matrix of random elements from uniform probability distribution is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a normally-distributed random vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!randn(1,4)! or \verb!randn(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.randn(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! random elements from normal probability distribution.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a normally-distributed random matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!randn(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.randn(5,3)! \\ \hline
\end{tabular}
\\

\noindent 5Ã—3 matrix of random elements from normal probability distribution is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Operations}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Tensor assignment without memory copy:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not directly available} \\ \hline
\textbf{Torch} & \verb!matOut = matIn! or \verb!matOut = matIn;! \\ \hline
\end{tabular}
\\

\noindent Matlab internally handles memory assignment for a copied array. As soon, as the copied array is modified in Matlab, a copy of the initial array is generated. Whereas, Torch gives this option to have a copied tensor that points to the same location in the memory as the initial tensor. For example, if elements of the \verb!matOut! tensor are modified here, the same changes happen to the elements of the \verb!matIn! tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Tensor assignment with memory copy:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matOut = matIn! or \verb!matOut = matIn;! \\ \hline
\textbf{Torch} & \verb!matOut = matIn:clone()! or \verb!matOut = matIn:clone();! \\ \hline
\end{tabular}
\\

\noindent Matlab's internal memory handling for array assignment is somewhat closer to this. Here, Torch generates a copy of the tensor content in memory. Any changes in \verb!matOut! elements are independent of the changes in the elements of the \verb!matIn! tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Change type of a tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!uint8(matIn)!, \verb!int8(matIn)!, \verb!int16(matIn)!, \verb!int32(matIn)!, \verb!int64(matIn)!, \verb!single(matIn)!, or \verb!double(matIn)! \\ \hline
\textbf{Torch} & \verb!matIn:byte()!, \verb!matIn:char()!, \verb!matIn:short()!, \verb!matIn:int()!, \verb!matIn:long()!, \verb!matIn:float()!, or \verb!matIn:double()! \\ \hline
\end{tabular}
\\

\noindent By default, double precision is used.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Multiplication of a tensor by a scalar:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matIn * 17! or \verb!17 * matIn! \\ \hline
\textbf{Torch} & \verb!matIn * 17! \\ \hline
\end{tabular}
\\

\noindent Pay attention that in Torch, the scalar cannot be the first argument of the multiplication.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Matrix multiplication of a tensor by another tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matA * matB! \\ \hline
\textbf{Torch} & \verb!matA * matB! \\ \hline
\end{tabular}
\\

\noindent Tensor sizes must be appropriate for the multiplication.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Element-wise multiplication of a tensor by another tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matA .* matB! \\ \hline
\textbf{Torch} & \verb!torch.cmul(matA, matB)! \\ \hline
\end{tabular}
\\

\noindent Tensor sizes must be identical.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Transpose of a two-dimensional tensor (matrix):}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matIn.'! \\ \hline
\textbf{Torch} & \verb!matIn:t()! \\ \hline
\end{tabular}
\\

\noindent A new tensor, which is the transpose of the input matrix (two-dimensional tensor) is returned.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Vertical tensor concatenation:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb![matTop; matBottom]! \\ \hline
\textbf{Torch} & \verb!torch.cat(matTop, matBottom, 1)! \\ \hline
\end{tabular}
\\

\noindent The number of columns in input tensors must be equal.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Horizontal tensor concatenation:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb![matLeft, matRight]! \\ \hline
\textbf{Torch} & \verb!torch.cat(matLeft, matRight, 2)! \\ \hline
\end{tabular}
\\

\noindent The number of rows in input tensors must be equal.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Square root of elements returned in a new tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matOut = sqrt(matIn)! \\ \hline
\textbf{Torch} & \verb!matOut = torch.sqrt(matIn)! \\ \hline
\end{tabular}
\\

\noindent Square root of each element is saved in an output tensor with the same size as the input tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Square root of elements returned in the same tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matIn = sqrt(matIn)! \\ \hline
\textbf{Torch} & \verb!matIn = torch.sqrt(matIn)! or \verb!matIn.sqrt(matIn)! or \verb!matIn:sqrt()! \\ \hline
\end{tabular}
\\

\noindent \verb!matIn:sqrt()! is same as \verb!matIn.sqrt(matIn)!. Generally in Torch, \verb!object:function(p1, p2, ...)! is same as\\ \verb!object.function(object, p1, p2, ...)!, where the function's object (also known as \verb!self!) is passed as the first input to the function. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Element-wise power to a scalar:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matIn.^5! \\ \hline
\textbf{Torch} & \verb!torch.pow(matIn, 5)! \\ \hline
\end{tabular}
\\

\noindent Each element to the power of 5 is saved in an output tensor with the same size as the input tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Element-wise power to a tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!matIn.^matPow! \\ \hline
\textbf{Torch} & \verb!torch.cpow(matIn, matPow)! \\ \hline
\end{tabular}
\\

\noindent Each element of the \verb!matIn! tensor to the power of the corresponding element of the \verb!matPow! tensor is saved in an output tensor with the same size as the input tensor.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%
\end{document}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Short description here:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!Matlab code here! \\ \hline
\textbf{Torch} & \verb!Torch code here! \\ \hline
\end{tabular}
\\

\noindent Description of the details here.

