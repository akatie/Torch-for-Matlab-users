% This is a XeLaTeX document. To process and view it use the following command:
% xelatex Torch_for_Matlab_users.tex && open Torch_for_Matlab_users.pdf
\documentclass[letter]{article}
\usepackage[margin=.7in]{geometry}

\usepackage{hyperref}

\usepackage{fontspec}
\setmainfont{Palatino Linotype}
\newfontfamily{\maintext}{Palatino Linotype}
\newfontfamily{\stressed}{Helvetica}
\newfontfamily{\exotic}{Code2000}
\newfontfamily{\math}{Asana Math}
\pagenumbering{gobble}

\newcommand{\frstClmnWidth}{.43in}
\newcommand{\scndClmnWidth}{6.37in}

\title{Torch for Matlab\textsuperscript{\textregistered}{\let\thefootnote\relax\footnote{Matlab\textsuperscript{\textregistered} is a registered trademark of The MathWorks, Inc.}} Users}
\author{Ata Mahjoubfar\\
\href{mailto:ata.m@ucla.edu}{ata.m@ucla.edu}}

\begin{document}
\maketitle
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{General}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Get help for a specific function:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!help sqrt! \\ \hline
\textbf{Torch} & \verb!help(torch.sqrt)! \\ \hline
\end{tabular}
\\

\noindent Documentation of \verb!sqrt! function is shown.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Get help for a specific function:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!testVar = (4*5-1+10.1)/3;! \\ \hline
\textbf{Torch} & \verb!testVar = (4*5-1+10.1)/3;! \\ \hline
\end{tabular}
\\

\noindent The resultant value (9.7) is assigned to variable \verb!testVar!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Matrices and Tensors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a two-dimensional tensor or matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m = [9, 6, 3, 4; 7, 2, 8, 1]! \\ \hline
\textbf{Torch} & \verb!m = torch.Tensor({{9, 6, 3, 4}, {7, 2, 8, 1}})! \\ \hline
\end{tabular}
\\

\noindent A \verb!2!$\times$\verb!4! matrix (two-dimensional tensor) with specified elements is formed and assigned to \verb!m!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a row vector:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v = [9, 7, 6, 8]! or \verb!v = [9 7 6 8]! \\ \hline
\textbf{Torch} & \verb!v = torch.Tensor({{9, 7, 6, 8}})! \\ \hline
\end{tabular}
\\

\noindent But, this is not used as a vector in Torch because it is still a two-dimensional Tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a column vector:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v = [9; 7; 6; 8]! \\ \hline
\textbf{Torch} & \verb!v = torch.Tensor({{9}, {7}, {6}, {8}})! \\ \hline
\end{tabular}
\\

\noindent But, this is not used as a vector in Torch because it is still a two-dimensional Tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!t = torch.Tensor({9, 7, 6, 8})! \\ \hline
\end{tabular}
\\

\noindent Matlab does not have \textit{one-dimensional tensors}; this can be verified by running \verb!ndims([9, 7, 6, 8])!. On the other hand, for many operations that Matlab uses row or column vectors, Torch uses a one-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element in a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(2)! \\ \hline
\textbf{Torch} & \verb!t[2]! \\ \hline
\end{tabular}
\\

\noindent Second element of the vector is accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element from the end of a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(end-1)! \\ \hline
\textbf{Torch} & \verb!t[-2]! \\ \hline
\end{tabular}
\\

\noindent Second element from the end of the vector is accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a range of elements in a vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!v(2:4)! \\ \hline
\textbf{Torch} & \verb!t[{{2,4}}]! \\ \hline
\end{tabular}
\\

\noindent Second to fourth elements of the vector are accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access an element in a Matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, 3)! \\ \hline
\textbf{Torch} & \verb!m[{2, 3}]! or \verb!m[2][3]! \\ \hline
\end{tabular}
\\

\noindent In both cases, second row, third column element is accessed.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a row in a Matrix as a two-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, :)! \\ \hline
\textbf{Torch} & \verb!m[{{2}, {}}]! \\ \hline
\end{tabular}
\\

\noindent The returned row is a two-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a row in a Matrix as a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!m[{2, {}}]! or \verb!m[2]! \\ \hline
\end{tabular}
\\

\noindent The returned row is a one-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a column in a Matrix as a two-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(:, 2)! \\ \hline
\textbf{Torch} & \verb!m[{{}, {2}}]! \\ \hline
\end{tabular}
\\

\noindent The returned column is a two-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a column in a Matrix as a one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \textit{Not available} \\ \hline
\textbf{Torch} & \verb!m[{{}, 2}]! \\ \hline
\end{tabular}
\\

\noindent The returned column is a one-dimensional tensor.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Access a range of elements in a Matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!m(2, 2:4)! \\ \hline
\textbf{Torch} & \verb!m[{{2}, {2,4}}] or m[{2, {2,4}}]! \\ \hline
\end{tabular}
\\

\noindent The second to fourth columns of the second row are returned. In Torch, there is a slight difference between using \verb!index! (e.g. \verb!2!) or \verb!{index}! (e.g. \verb!{2}!) for pointing to a singleton dimension. For \verb!{index}!, the dimension of the returned tensor is same as the original tensor (e.g. tensor~\verb!m!). For \verb!index!, the singleton dimension is removed, and the dimension of the returned tensor is one less than the original tensor (e.g. tensor~\verb!m!). Also, \verb!{}! refers to all elements in that dimension. Finally, \verb!-index! means \verb!index!-th element from the end.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Forming Basic Tensors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a tensor over a range of values with unit step:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!3:8! \\ \hline
\textbf{Torch} & \verb!torch.range(3, 8)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with elements spaced \verb!1! strating at \verb!3!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a tensor over a range of values with an arbitrary step:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!3:-1.9:-4.2! \\ \hline
\textbf{Torch} & \verb!torch.range(3, -4.2, -1.9)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with elements spaced \verb!-1.9! strating at \verb!3!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a tensor with equally-spaced elements:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!linspace(3, 8, 50)! \\ \hline
\textbf{Torch} & \verb!torch.linspace(3, 8, 50)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!50! equally-spaced elements strating at \verb!3! and ending at \verb!8!.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create a tensor with exponentially-spaced elements:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!logspace(3, 8, 50)! \\ \hline
\textbf{Torch} & \verb!torch.logspace(3, 8, 50)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!50! exponentially-spaced elements strating at $10^3$ and ending at $10^8$.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create all zeros vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!zeros(1,4)! or \verb!zeros(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.zeros(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! zero elements.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create all zeros matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!zeros(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.zeros(5,3)! \\ \hline
\end{tabular}
\\

\noindent \verb!5!$\times$\verb!3! matrix of zeros is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create all ones vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!ones(1,4)! or \verb!ones(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.ones(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! one elements.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create all ones matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!ones(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.ones(5,3)! \\ \hline
\end{tabular}
\\

\noindent \verb!5!$\times$\verb!3! matrix of ones is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create identity matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!eye(4)! or \verb!eye(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.eye(3)! or \verb!torch.eye(5,3)! \\ \hline
\end{tabular}
\\

\noindent \verb!4!$\times$\verb!4! and \verb!5!$\times$\verb!3! identity matrices are generated, respectively.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create uniformly-distributed random vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!rand(1,4)! or \verb!rand(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.rand(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! random elements from uniform probability distribution.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create uniformly-distributed random matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!rand(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.rand(5,3)! \\ \hline
\end{tabular}
\\

\noindent \verb!5!$\times$\verb!3! matrix of random elements from uniform probability distribution is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create normally-distributed random vector or one-dimensional tensor:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!randn(1,4)! or \verb!randn(4,1)! \\ \hline
\textbf{Torch} & \verb!torch.randn(4)! \\ \hline
\end{tabular}
\\

\noindent Torch's result is a one-dimensional tensor with \verb!4! random elements from normal probability distribution.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Create normally-distributed random matrix:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!randn(5,3)! \\ \hline
\textbf{Torch} & \verb!torch.randn(5,3)! \\ \hline
\end{tabular}
\\

\noindent \verb!5!$\times$\verb!3! matrix of random elements from normal probability distribution is generated.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Operations}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Short description here:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!Matlab code here! \\ \hline
\textbf{Torch} & \verb!Torch code here! \\ \hline
\end{tabular}
\\

\noindent Description of the details here.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%
\end{document}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection*{Short description here:}

\begin{tabular}{|p{\frstClmnWidth{}}|p{\scndClmnWidth{}}|}
\hline
\textbf{Matlab} & \verb!Matlab code here! \\ \hline
\textbf{Torch} & \verb!Torch code here! \\ \hline
\end{tabular}
\\

\noindent Description of the details here.

